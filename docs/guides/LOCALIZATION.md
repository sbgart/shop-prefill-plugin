# –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞ Prefill

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-03  
**–í–µ—Ä—Å–∏—è:** 1.0

## –û–±–∑–æ—Ä

–ü–ª–∞–≥–∏–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ Webasyst. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:

- üá∑üá∫ –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ (`ru_RU`)
- üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ (`en_US`)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

```
wa-apps/shop/plugins/prefill/
‚îî‚îÄ‚îÄ locale/
    ‚îú‚îÄ‚îÄ en_US/
    ‚îÇ   ‚îî‚îÄ‚îÄ LC_MESSAGES/
    ‚îÇ       ‚îú‚îÄ‚îÄ shop_prefill.po    # –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π)
    ‚îÇ       ‚îî‚îÄ‚îÄ shop_prefill.mo    # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îî‚îÄ‚îÄ ru_RU/
        ‚îî‚îÄ‚îÄ LC_MESSAGES/
            ‚îú‚îÄ‚îÄ shop_prefill.po    # –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π)
            ‚îî‚îÄ‚îÄ shop_prefill.mo    # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (.po)

### –§–æ—Ä–º–∞—Ç

–§–∞–π–ª—ã `.po` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç GNU gettext:

```po
msgid "–∫–ª—é—á.–ø–µ—Ä–µ–≤–æ–¥–∞"
msgstr "–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç"
```

### –ü—Ä–∏–º–µ—Ä –∏–∑ –ø–ª–∞–≥–∏–Ω–∞

```po
msgid "Error"
msgstr "–û—à–∏–±–∫–∞"

msgid "error.file-not-uploaded"
msgstr "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞."

msgid "setting.plugin_active"
msgstr "–°—Ç–∞—Ç—É—Å –ø–ª–∞–≥–∏–Ω–∞"
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–ª—é—á–∞–º

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–µ—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é** –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:

   - `error.*` - –æ—à–∏–±–∫–∏
   - `setting.*` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - `title.*` - –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
   - `tab.*` - –≤–∫–ª–∞–¥–∫–∏
   - `hint.*` - –ø–æ–¥—Å–∫–∞–∑–∫–∏
   - `variable.*` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤

2. **–ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏** –≤ —Ä–∞–º–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–∞

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–ª—é—á–∏** –≤–º–µ—Å—Ç–æ –ø–æ—Ä—è–¥–∫–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–æ–≤

## –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### –ö–æ–º–∞–Ω–¥–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `.po` —Ñ–∞–π–ª–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Ö —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤ `.mo` —Ñ–æ—Ä–º–∞—Ç:

```bash
cd /Users/user/Project/wa-dev
php wa.php locale shop/plugins/prefill
```

### –í—ã–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```
Result: SUCCESS. Words for en_US locale:
Total: 231
Updated: 231
New: 0

Result: SUCCESS. Words for ru_RU locale:
Total: 231
Updated: 231
New: 0
```

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—è

‚úÖ –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ –≤ `.po` —Ñ–∞–π–ª—ã  
‚úÖ –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤  
‚úÖ –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

## –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à:

```bash
cd /Users/user/Project/wa-dev
rm -f wa-cache/*/apps/shop_minorder/locale/*.php
```

–ò–ª–∏ —É–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –∫—ç—à –ø–ª–∞–≥–∏–Ω–∞:

```bash
find wa-cache -name "*.php" -path "*/shop_minorder/*" -delete
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ

### 1. –í PHP –∫–æ–¥–µ (Action, Controller)

#### –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

–í –Ω–∞—á–∞–ª–µ `execute()` –º–µ—Ç–æ–¥–∞:

```php
class shopMinorderPluginSettingsAction extends waViewAction
{
    public function execute()
    {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–º–µ–Ω–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        waLocale::loadByDomain(array('shop', 'prefill'));
        waSystem::pushActivePlugin('prefill', 'shop');

        // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
    }
}
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```php
// –ü—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ–≤–æ–¥
$error = _wp('error.file-not-uploaded');

// –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (sprintf)
$message = sprintf(_wp('product.count'), $count);
```

### 2. –í Smarty —à–∞–±–ª–æ–Ω–∞—Ö

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ |\_wp

```smarty
{* –ü—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ–≤–æ–¥ *}
<h1>{'setting.plugin_active'|_wp}</h1>

{* –ò–ª–∏ –∫—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞ *}
<h1>[`setting.plugin_active`]</h1>

{* –° —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–ª—è JavaScript *}
<script>
  var message = "{'error.file-not-uploaded'|_wp|escape:'javascript'}";
</script>
```

### 3. –í JavaScript –∫–æ–¥–µ

JavaScript –Ω–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ PHP. –ü–µ—Ä–µ–≤–æ–¥—ã –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —è–≤–Ω–æ.

#### –®–∞–≥ 1: –ü–µ—Ä–µ–¥–∞—á–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ JavaScript

–í —à–∞–±–ª–æ–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `templates/actions/settings/blocks/Head.html`):

```smarty
{* –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è JavaScript *}
<script>
  var $_locale = {
    'Error': "{'Error'|_wp|escape:'javascript'}",
    'error.unexpected': "{'error.unexpected'|_wp|escape:'javascript'}",
    'error.file-not-uploaded': "{'error.file-not-uploaded'|_wp|escape:'javascript'}",
    'Import': "{'Import'|_wp|escape:'javascript'}",
    'cancel': "{'cancel'|_wp|escape:'javascript'}",
    'Save': "{'Save'|_wp|escape:'javascript'}"
  };

  // –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è JS
  window.$_ = function(key) {
    return $_locale[key] || key;
  };
</script>
```

**–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω **–î–û** –æ—Å–Ω–æ–≤–Ω—ã—Ö JS —Ñ–∞–π–ª–æ–≤ –ø–ª–∞–≥–∏–Ω–∞.

#### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ JavaScript

```javascript
// –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
var errorTitle = $_("Error");
var errorMessage = $_("error.file-not-uploaded");

// –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
var message = typeof $_ !== "undefined" ? $_("error.file-not-uploaded") : "Please select a settings file to import.";

// –í —Ñ—É–Ω–∫—Ü–∏–∏
MinorderSettings.showErrorDialog = function (errors) {
  var errorTitle = typeof $_ !== "undefined" ? $_("Error") : "Error";
  // ...
};
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

#### 1. –î–æ–±–∞–≤–∏—Ç—å –≤ `.po` —Ñ–∞–π–ª—ã

**`locale/ru_RU/LC_MESSAGES/shop_prefill.po`:**

```po
msgid "success.saved"
msgstr "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã"
```

**`locale/en_US/LC_MESSAGES/shop_prefill.po`:**

```po
msgid "success.saved"
msgstr "Settings saved successfully"
```

#### 2. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å

```bash
cd /Users/user/Project/wa-dev
php wa.php locale shop/plugins/prefill
```

#### 3. –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à

```bash
rm -f wa-cache/*/apps/shop_minorder/locale/*.php
```

#### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

**PHP:**

```php
$this->response['message'] = _wp('success.saved');
```

**Smarty:**

```smarty
<div class="success">[`success.saved`]</div>
```

**JavaScript (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**

–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤–∏—Ç—å –≤ —à–∞–±–ª–æ–Ω `Head.html`:

```smarty
'success.saved': "{'success.saved'|_wp|escape:'javascript'}",
```

–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```javascript
alert($_("success.saved"));
```

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π:

1. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `.po` —Ñ–∞–π–ª—ã**

   - –û—Ç–∫—Ä—ã—Ç—å –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏–ª–∏ Poedit
   - –î–æ–±–∞–≤–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã

2. **–°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å**

   ```bash
   cd /Users/user/Project/wa-dev && php wa.php locale shop/plugins/prefill
   ```

3. **–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à** (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã)

   ```bash
   rm -f wa-cache/*/apps/shop_minorder/locale/*.php
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É** –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Ctrl+Shift+R –¥–ª—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞)

## –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–ª—é—á –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∞

**–ü—Ä–∏—á–∏–Ω—ã:**

- –ù–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã `.po` —Ñ–∞–π–ª—ã –≤ `.mo`
- –ù–µ –æ—á–∏—â–µ–Ω –∫—ç—à –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- –ù–µ –≤—ã–∑–≤–∞–Ω `waLocale::loadByDomain()` –≤ action
- –ù–µ –≤—ã–∑–≤–∞–Ω `waSystem::pushActivePlugin()` –≤ action

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å
cd /Users/user/Project/wa-dev && php wa.php locale shop/plugins/prefill

# 2. –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
rm -f wa-cache/*/apps/shop_minorder/locale/*.php

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ action
waLocale::loadByDomain(array('shop', 'prefill'));
waSystem::pushActivePlugin('prefill', 'shop');
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í JavaScript –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–ª—é—á –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ JavaScript –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `$_locale` –∏ —Ñ—É–Ω–∫—Ü–∏–∏ `$_()`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–≤–æ–π)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞: `console.log($_("Error"))`

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–≤–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ PHP, –Ω–æ –Ω–µ –≤ JS

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª—é—á –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –æ–±—ä–µ–∫—Ç `$_locale` –≤ —à–∞–±–ª–æ–Ω–µ

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –≤ `templates/actions/settings/blocks/Head.html`:

```smarty
'–Ω–æ–≤—ã–π.–∫–ª—é—á': "{'–Ω–æ–≤—ã–π.–∫–ª—é—á'|_wp|escape:'javascript'}",
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–µ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ø–ª–∞–≥–∏–Ω–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã

| –ì—Ä—É–ø–ø–∞       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                 | –ü—Ä–∏–º–µ—Ä—ã                                       |
| ------------ | -------------------------- | --------------------------------------------- |
| `error.*`    | –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö       | `error.unexpected`, `error.file-not-uploaded` |
| `success.*`  | –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ        | `success.saved`                               |
| `warning.*`  | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è             | `warning.storefront_disabled`                 |
| `setting.*`  | –ù–∞–∑–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫          | `setting.plugin_active`, `setting.min_amount` |
| `title.*`    | –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏      | `title.plugin_active`, `title.import`         |
| `hint.*`     | –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏      | `hint.main`, `hint.css_selector`              |
| `tab.*`      | –ù–∞–∑–≤–∞–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫           | `tab.general`, `tab.products`                 |
| `header.*`   | –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü          | `header.category`, `header.product`           |
| `variable.*` | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤    | `variable.minimum_amount`                     |
| `da.*`       | Dynamic Appearance (—Å—Ç–∏–ª–∏) | `da.background`, `da.text_align`              |
| `action.*`   | –î–µ–π—Å—Ç–≤–∏—è/–∫–Ω–æ–ø–∫–∏            | `action.set_minimum`, `action.export`         |
| `menu.*`     | –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é                | `menu.help`, `menu.feedback`                  |

### –û–±—â–∏–µ –∫–ª—é—á–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª—é—á–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –¥–ª—è –æ–±—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

- `Error`, `Import`, `Export`, `Save`, `Close`, `cancel`
- `On`, `Off`, `Yes`, `No`

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

### Poedit

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è `.po` —Ñ–∞–π–ª–æ–≤:

- **–°–∞–π—Ç:** https://poedit.net/
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –£–¥–æ–±–Ω—ã–π GUI
  - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

`.po` —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

- VS Code —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º "gettext"
- Sublime Text
- PhpStorm

## Best Practices

1. ‚úÖ **–í—Å–µ–≥–¥–∞ –∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** `.po` —Ñ–∞–π–ª–æ–≤
2. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–ª—é—á–∏** –≤–º–µ—Å—Ç–æ "error1", "error2"
3. ‚úÖ **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ –ø–æ —Å–º—ã—Å–ª—É** —á–µ—Ä–µ–∑ —Ç–æ—á–µ—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é
4. ‚úÖ **–î–æ–±–∞–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ä–∞–∑—É –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤**
5. ‚úÖ **–û—á–∏—â–∞–π—Ç–µ –∫—ç—à** –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã
6. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤ JavaScript: `|escape:'javascript'`
7. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –∫–ª—é—á–∏** –µ—Å–ª–∏ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
8. ‚õî **–ù–µ —Ö–∞—Ä–¥–∫–æ–¥—å—Ç–µ —Ç–µ–∫—Å—Ç—ã** –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —è–∑—ã–∫–µ –≤ –∫–æ–¥–µ
9. ‚õî **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ** –≤—ã–∑—ã–≤–∞—Ç—å `waLocale::loadByDomain()` –≤ action –∫–ª–∞—Å—Å–∞—Ö
10. ‚õî **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–ª—é—á–∏** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤

## –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

### –ó–∞–¥–∞—á–∞: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ" —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

#### 1. –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ `.po` —Ñ–∞–π–ª—ã

**`locale/ru_RU/LC_MESSAGES/shop_prefill.po`:**

```po
msgid "action.clear_all"
msgstr "–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ"

msgid "confirm.clear_all"
msgstr "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å."

msgid "success.cleared"
msgstr "–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω—ã"
```

**`locale/en_US/LC_MESSAGES/shop_prefill.po`:**

```po
msgid "action.clear_all"
msgstr "Clear all"

msgid "confirm.clear_all"
msgstr "Are you sure you want to delete all settings? This action cannot be undone."

msgid "success.cleared"
msgstr "All settings successfully deleted"
```

#### 2. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å

```bash
cd /Users/user/Project/wa-dev && php wa.php locale shop/plugins/prefill
```

#### 3. –î–æ–±–∞–≤–∏—Ç—å –≤ JavaScript (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–í `templates/actions/settings/blocks/Head.html`:

```smarty
'action.clear_all': "{'action.clear_all'|_wp|escape:'javascript'}",
'confirm.clear_all': "{'confirm.clear_all'|_wp|escape:'javascript'}",
'success.cleared': "{'success.cleared'|_wp|escape:'javascript'}",
```

#### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ

**–®–∞–±–ª–æ–Ω:**

```smarty
<button type="button" class="js-clear-all">
  [<code>action.clear_all</code>]
</button>
```

**JavaScript:**

```javascript
$(".js-clear-all").on("click", function () {
  if (confirm($_("confirm.clear_all"))) {
    // –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ—á–∏—Å—Ç–∫—É
    alert($_("success.cleared"));
  }
});
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ –õ–µ–≥–∫–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Webasyst

**–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:**

- –ö–æ–º–ø–∏–ª—è—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.po` —Ñ–∞–π–ª–æ–≤
- JavaScript —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω
- –ö—ç—à –º–æ–∂–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π
